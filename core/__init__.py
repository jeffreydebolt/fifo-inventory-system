# Core domain logic for FIFO COGS calculation