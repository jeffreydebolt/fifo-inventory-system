{"ast":null,"code":"import React,{useState}from'react';import{useClient}from'../contexts/ClientContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UploadPage=()=>{var _result$total_cogs,_result$success_rate;const{client}=useClient();const[salesFile,setSalesFile]=useState(null);const[lotsFile,setLotsFile]=useState(null);const[processing,setProcessing]=useState(false);const[result,setResult]=useState(null);const[error,setError]=useState('');const handleFileChange=(type,event)=>{const file=event.target.files[0];if(type==='sales'){setSalesFile(file);}else if(type==='lots'){setLotsFile(file);}setError('');setResult(null);};const processFiles=async()=>{if(!salesFile){setError('Please select a sales file');return;}setProcessing(true);setError('');setResult(null);try{// Read and process the files\nconst salesData=await readCSVFile(salesFile);const lotsData=lotsFile?await readCSVFile(lotsFile):null;// Process with FIFO calculator\nconst fifoResult=await runFIFOCalculation(salesData,lotsData,client.client_id);// Save results for this client\nsaveResultsForClient(client.client_id,fifoResult);// Update recent files\nupdateRecentFiles(client.client_id,salesFile,lotsFile);setResult(fifoResult);}catch(err){setError(`Processing failed: ${err.message}`);}finally{setProcessing(false);}};const downloadTemplate=type=>{const templates={sales:`SKU,Units Moved,Month\nABC123,100,January 2025\nDEF456,50,January 2025\nGHI789,75,February 2025`,lots:`PO_Number,SKU,Received_Date,Original_Unit_Qty,Unit_Price,Actual_Freight_Cost_Per_Unit\nPO001,ABC123,2025-01-01,500,10.50,1.25\nPO002,DEF456,2025-01-15,300,8.75,0.95\nPO003,GHI789,2025-02-01,200,12.00,1.50`};const content=templates[type];const blob=new Blob([content],{type:'text/csv'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=`${type}_template.csv`;document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);};return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',backgroundColor:'#f3f4f6'},children:[/*#__PURE__*/_jsx(\"header\",{style:{backgroundColor:'white',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.1)',padding:'1rem 2rem'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'#1f2937',margin:0},children:\"Upload Files\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#6b7280'},children:client.company_name}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/dashboard',style:{backgroundColor:'#6b7280',color:'white',padding:'0.5rem 1rem',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"\\u2190 Back to Dashboard\"})]})]})}),/*#__PURE__*/_jsxs(\"main\",{style:{padding:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',padding:'2rem',borderRadius:'8px',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.1)',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#1f2937',marginBottom:'1.5rem'},children:\"Upload Your Files\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',color:'#374151',fontWeight:'500'},children:\"Sales Data (Required) *\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".csv,.xlsx\",onChange:e=>handleFileChange('sales',e),style:{padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'4px',flex:1}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadTemplate('sales'),style:{backgroundColor:'#6b7280',color:'white',padding:'0.5rem 1rem',border:'none',borderRadius:'4px',cursor:'pointer',whiteSpace:'nowrap'},children:\"Download Template\"})]}),salesFile&&/*#__PURE__*/_jsxs(\"p\",{style:{color:'#10b981',fontSize:'0.875rem',marginTop:'0.5rem'},children:[\"\\u2713 \",salesFile.name,\" selected\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"label\",{style:{display:'block',marginBottom:'0.5rem',color:'#374151',fontWeight:'500'},children:\"Purchase Lots (Optional - will use database if not provided)\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".csv,.xlsx\",onChange:e=>handleFileChange('lots',e),style:{padding:'0.5rem',border:'1px solid #d1d5db',borderRadius:'4px',flex:1}}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>downloadTemplate('lots'),style:{backgroundColor:'#6b7280',color:'white',padding:'0.5rem 1rem',border:'none',borderRadius:'4px',cursor:'pointer',whiteSpace:'nowrap'},children:\"Download Template\"})]}),lotsFile&&/*#__PURE__*/_jsxs(\"p\",{style:{color:'#10b981',fontSize:'0.875rem',marginTop:'0.5rem'},children:[\"\\u2713 \",lotsFile.name,\" selected\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:processFiles,disabled:!salesFile||processing,style:{backgroundColor:!salesFile||processing?'#9ca3af':'#3b82f6',color:'white',padding:'0.75rem 2rem',border:'none',borderRadius:'4px',cursor:!salesFile||processing?'not-allowed':'pointer',fontSize:'1rem',fontWeight:'500'},children:processing?'Processing...':'Process FIFO COGS'})]}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#fef2f2',border:'1px solid #fca5a5',color:'#dc2626',padding:'1rem',borderRadius:'8px',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 0.5rem 0'},children:\"Error\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0},children:error})]}),result&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',padding:'2rem',borderRadius:'8px',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#1f2937',marginBottom:'1.5rem'},children:\"\\u2705 Processing Complete!\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsx(StatCard,{title:\"SKUs Processed\",value:result.processed_skus}),/*#__PURE__*/_jsx(StatCard,{title:\"Total COGS\",value:`$${((_result$total_cogs=result.total_cogs)===null||_result$total_cogs===void 0?void 0:_result$total_cogs.toFixed(2))||'0.00'}`}),/*#__PURE__*/_jsx(StatCard,{title:\"Success Rate\",value:`${((_result$success_rate=result.success_rate)===null||_result$success_rate===void 0?void 0:_result$success_rate.toFixed(1))||'0'}%`})]}),/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#f9fafb',padding:'1rem',borderRadius:'4px',marginBottom:'1rem'},children:/*#__PURE__*/_jsx(\"p\",{style:{margin:0,color:'#374151'},children:\"Your COGS calculation has been completed and saved. You can now download the results from the Download page.\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.href='/download',style:{backgroundColor:'#10b981',color:'white',padding:'0.75rem 1.5rem',border:'none',borderRadius:'4px',cursor:'pointer',fontSize:'1rem'},children:\"Go to Download Page\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',padding:'2rem',borderRadius:'8px',boxShadow:'0 1px 3px rgba(0, 0, 0, 0.1)',marginTop:'2rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{color:'#1f2937',marginBottom:'1rem'},children:\"Instructions\"}),/*#__PURE__*/_jsxs(\"ul\",{style:{color:'#6b7280',lineHeight:1.6},children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sales Data:\"}),\" Required. Must include SKU, Units Moved, and Month columns.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Purchase Lots:\"}),\" Optional. If not provided, we'll use your existing inventory from the database.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"File Formats:\"}),\" CSV or Excel files (.csv, .xlsx) are supported.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Processing:\"}),\" May take a few moments for large files. Please be patient.\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Results:\"}),\" Will be available for download once processing is complete.\"]})]})]})]})]});};const StatCard=_ref=>{let{title,value}=_ref;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',backgroundColor:'#f9fafb',borderRadius:'4px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.5rem',fontWeight:'bold',color:'#1f2937'},children:value}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#6b7280',marginTop:'0.25rem'},children:title})]});};// Helper functions for file processing\nasync function readCSVFile(file){return new Promise((resolve,reject)=>{const reader=new FileReader();reader.onload=e=>{try{const text=e.target.result;const lines=text.split('\\n').filter(line=>line.trim());const headers=lines[0].split(',').map(h=>h.trim().replace(/\"/g,''));const data=lines.slice(1).map(line=>{const values=line.split(',').map(v=>v.trim().replace(/\"/g,''));const row={};headers.forEach((header,i)=>{row[header]=values[i]||'';});return row;});resolve({headers,data});}catch(err){reject(new Error(`Failed to parse CSV: ${err.message}`));}};reader.onerror=()=>reject(new Error('Failed to read file'));reader.readAsText(file);});}async function runFIFOCalculation(salesData,lotsData,clientId){// Simulate FIFO processing\nreturn new Promise(resolve=>{setTimeout(()=>{var _lotsData$data;const processedSkus=[...new Set(salesData.data.map(row=>row.SKU))].length;const totalUnits=salesData.data.reduce((sum,row)=>{const units=parseFloat(row['Units Moved']||row['Quantity']||0);return sum+(isNaN(units)?0:units);},0);// Simulate COGS calculation (in production this would call the actual FIFO engine)\nconst avgCost=10.50;// Placeholder\nconst totalCogs=totalUnits*avgCost;const result={processed_skus:processedSkus,total_units:totalUnits,total_cogs:totalCogs,success_rate:100,timestamp:new Date().toISOString(),client_id:clientId,files:{sales:salesData.data.length,lots:(lotsData===null||lotsData===void 0?void 0:(_lotsData$data=lotsData.data)===null||_lotsData$data===void 0?void 0:_lotsData$data.length)||0}};resolve(result);},2000);// 2 second processing simulation\n});}function saveResultsForClient(clientId,result){// Save to localStorage for demo (in production this would save to database)\nconst key=`results_${clientId}`;const existingResults=JSON.parse(localStorage.getItem(key)||'[]');existingResults.push(result);localStorage.setItem(key,JSON.stringify(existingResults));}function updateRecentFiles(clientId,salesFile,lotsFile){const files=[];if(salesFile){files.push({name:salesFile.name,type:'Sales Data',uploaded:new Date().toLocaleDateString(),status:'completed'});}if(lotsFile){files.push({name:lotsFile.name,type:'Purchase Lots',uploaded:new Date().toLocaleDateString(),status:'completed'});}const key=`files_${clientId}`;const existingFiles=JSON.parse(localStorage.getItem(key)||'[]');existingFiles.push(...files);localStorage.setItem(key,JSON.stringify(existingFiles));}export default UploadPage;","map":{"version":3,"names":["React","useState","useClient","jsx","_jsx","jsxs","_jsxs","UploadPage","_result$total_cogs","_result$success_rate","client","salesFile","setSalesFile","lotsFile","setLotsFile","processing","setProcessing","result","setResult","error","setError","handleFileChange","type","event","file","target","files","processFiles","salesData","readCSVFile","lotsData","fifoResult","runFIFOCalculation","client_id","saveResultsForClient","updateRecentFiles","err","message","downloadTemplate","templates","sales","lots","content","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","style","minHeight","backgroundColor","children","boxShadow","padding","display","justifyContent","alignItems","color","margin","gap","company_name","onClick","window","location","border","borderRadius","cursor","marginBottom","fontWeight","accept","onChange","e","flex","whiteSpace","fontSize","marginTop","name","disabled","gridTemplateColumns","StatCard","title","value","processed_skus","total_cogs","toFixed","success_rate","lineHeight","_ref","textAlign","Promise","resolve","reject","reader","FileReader","onload","text","lines","split","filter","line","trim","headers","map","h","replace","data","slice","values","v","row","forEach","header","i","Error","onerror","readAsText","clientId","setTimeout","_lotsData$data","processedSkus","Set","SKU","length","totalUnits","reduce","sum","units","parseFloat","isNaN","avgCost","totalCogs","total_units","timestamp","Date","toISOString","key","existingResults","JSON","parse","localStorage","getItem","push","setItem","stringify","uploaded","toLocaleDateString","status","existingFiles"],"sources":["/Users/jeffreydebolt/Documents/fifo/cogs-dashboard/src/pages/UploadPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useClient } from '../contexts/ClientContext';\n\nconst UploadPage = () => {\n  const { client } = useClient();\n  const [salesFile, setSalesFile] = useState(null);\n  const [lotsFile, setLotsFile] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState('');\n\n  const handleFileChange = (type, event) => {\n    const file = event.target.files[0];\n    if (type === 'sales') {\n      setSalesFile(file);\n    } else if (type === 'lots') {\n      setLotsFile(file);\n    }\n    setError('');\n    setResult(null);\n  };\n\n  const processFiles = async () => {\n    if (!salesFile) {\n      setError('Please select a sales file');\n      return;\n    }\n\n    setProcessing(true);\n    setError('');\n    setResult(null);\n\n    try {\n      // Read and process the files\n      const salesData = await readCSVFile(salesFile);\n      const lotsData = lotsFile ? await readCSVFile(lotsFile) : null;\n\n      // Process with FIFO calculator\n      const fifoResult = await runFIFOCalculation(salesData, lotsData, client.client_id);\n      \n      // Save results for this client\n      saveResultsForClient(client.client_id, fifoResult);\n      \n      // Update recent files\n      updateRecentFiles(client.client_id, salesFile, lotsFile);\n\n      setResult(fifoResult);\n\n    } catch (err) {\n      setError(`Processing failed: ${err.message}`);\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const downloadTemplate = (type) => {\n    const templates = {\n      sales: `SKU,Units Moved,Month\nABC123,100,January 2025\nDEF456,50,January 2025\nGHI789,75,February 2025`,\n      lots: `PO_Number,SKU,Received_Date,Original_Unit_Qty,Unit_Price,Actual_Freight_Cost_Per_Unit\nPO001,ABC123,2025-01-01,500,10.50,1.25\nPO002,DEF456,2025-01-15,300,8.75,0.95\nPO003,GHI789,2025-02-01,200,12.00,1.50`\n    };\n\n    const content = templates[type];\n    const blob = new Blob([content], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    \n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${type}_template.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: '#f3f4f6' }}>\n      {/* Header */}\n      <header style={{\n        backgroundColor: 'white',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        padding: '1rem 2rem'\n      }}>\n        <div style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        }}>\n          <h1 style={{ color: '#1f2937', margin: 0 }}>Upload Files</h1>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n            <span style={{ color: '#6b7280' }}>\n              {client.company_name}\n            </span>\n            <button\n              onClick={() => window.location.href = '/dashboard'}\n              style={{\n                backgroundColor: '#6b7280',\n                color: 'white',\n                padding: '0.5rem 1rem',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer'\n              }}\n            >\n              ← Back to Dashboard\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <main style={{ padding: '2rem' }}>\n        {/* File Upload Section */}\n        <div style={{\n          backgroundColor: 'white',\n          padding: '2rem',\n          borderRadius: '8px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          marginBottom: '2rem'\n        }}>\n          <h2 style={{ color: '#1f2937', marginBottom: '1.5rem' }}>Upload Your Files</h2>\n          \n          {/* Sales File */}\n          <div style={{ marginBottom: '1.5rem' }}>\n            <label style={{\n              display: 'block',\n              marginBottom: '0.5rem',\n              color: '#374151',\n              fontWeight: '500'\n            }}>\n              Sales Data (Required) *\n            </label>\n            <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n              <input\n                type=\"file\"\n                accept=\".csv,.xlsx\"\n                onChange={(e) => handleFileChange('sales', e)}\n                style={{\n                  padding: '0.5rem',\n                  border: '1px solid #d1d5db',\n                  borderRadius: '4px',\n                  flex: 1\n                }}\n              />\n              <button\n                onClick={() => downloadTemplate('sales')}\n                style={{\n                  backgroundColor: '#6b7280',\n                  color: 'white',\n                  padding: '0.5rem 1rem',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  whiteSpace: 'nowrap'\n                }}\n              >\n                Download Template\n              </button>\n            </div>\n            {salesFile && (\n              <p style={{ color: '#10b981', fontSize: '0.875rem', marginTop: '0.5rem' }}>\n                ✓ {salesFile.name} selected\n              </p>\n            )}\n          </div>\n\n          {/* Lots File */}\n          <div style={{ marginBottom: '2rem' }}>\n            <label style={{\n              display: 'block',\n              marginBottom: '0.5rem',\n              color: '#374151',\n              fontWeight: '500'\n            }}>\n              Purchase Lots (Optional - will use database if not provided)\n            </label>\n            <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n              <input\n                type=\"file\"\n                accept=\".csv,.xlsx\"\n                onChange={(e) => handleFileChange('lots', e)}\n                style={{\n                  padding: '0.5rem',\n                  border: '1px solid #d1d5db',\n                  borderRadius: '4px',\n                  flex: 1\n                }}\n              />\n              <button\n                onClick={() => downloadTemplate('lots')}\n                style={{\n                  backgroundColor: '#6b7280',\n                  color: 'white',\n                  padding: '0.5rem 1rem',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  whiteSpace: 'nowrap'\n                }}\n              >\n                Download Template\n              </button>\n            </div>\n            {lotsFile && (\n              <p style={{ color: '#10b981', fontSize: '0.875rem', marginTop: '0.5rem' }}>\n                ✓ {lotsFile.name} selected\n              </p>\n            )}\n          </div>\n\n          {/* Process Button */}\n          <button\n            onClick={processFiles}\n            disabled={!salesFile || processing}\n            style={{\n              backgroundColor: (!salesFile || processing) ? '#9ca3af' : '#3b82f6',\n              color: 'white',\n              padding: '0.75rem 2rem',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: (!salesFile || processing) ? 'not-allowed' : 'pointer',\n              fontSize: '1rem',\n              fontWeight: '500'\n            }}\n          >\n            {processing ? 'Processing...' : 'Process FIFO COGS'}\n          </button>\n        </div>\n\n        {/* Error Display */}\n        {error && (\n          <div style={{\n            backgroundColor: '#fef2f2',\n            border: '1px solid #fca5a5',\n            color: '#dc2626',\n            padding: '1rem',\n            borderRadius: '8px',\n            marginBottom: '2rem'\n          }}>\n            <h3 style={{ margin: '0 0 0.5rem 0' }}>Error</h3>\n            <p style={{ margin: 0 }}>{error}</p>\n          </div>\n        )}\n\n        {/* Results Display */}\n        {result && (\n          <div style={{\n            backgroundColor: 'white',\n            padding: '2rem',\n            borderRadius: '8px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'\n          }}>\n            <h2 style={{ color: '#1f2937', marginBottom: '1.5rem' }}>✅ Processing Complete!</h2>\n            \n            <div style={{ \n              display: 'grid', \n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \n              gap: '1rem',\n              marginBottom: '2rem'\n            }}>\n              <StatCard title=\"SKUs Processed\" value={result.processed_skus} />\n              <StatCard title=\"Total COGS\" value={`$${result.total_cogs?.toFixed(2) || '0.00'}`} />\n              <StatCard title=\"Success Rate\" value={`${result.success_rate?.toFixed(1) || '0'}%`} />\n            </div>\n\n            <div style={{\n              backgroundColor: '#f9fafb',\n              padding: '1rem',\n              borderRadius: '4px',\n              marginBottom: '1rem'\n            }}>\n              <p style={{ margin: 0, color: '#374151' }}>\n                Your COGS calculation has been completed and saved. \n                You can now download the results from the Download page.\n              </p>\n            </div>\n\n            <button\n              onClick={() => window.location.href = '/download'}\n              style={{\n                backgroundColor: '#10b981',\n                color: 'white',\n                padding: '0.75rem 1.5rem',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                fontSize: '1rem'\n              }}\n            >\n              Go to Download Page\n            </button>\n          </div>\n        )}\n\n        {/* Instructions */}\n        <div style={{\n          backgroundColor: 'white',\n          padding: '2rem',\n          borderRadius: '8px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          marginTop: '2rem'\n        }}>\n          <h3 style={{ color: '#1f2937', marginBottom: '1rem' }}>Instructions</h3>\n          <ul style={{ color: '#6b7280', lineHeight: 1.6 }}>\n            <li><strong>Sales Data:</strong> Required. Must include SKU, Units Moved, and Month columns.</li>\n            <li><strong>Purchase Lots:</strong> Optional. If not provided, we'll use your existing inventory from the database.</li>\n            <li><strong>File Formats:</strong> CSV or Excel files (.csv, .xlsx) are supported.</li>\n            <li><strong>Processing:</strong> May take a few moments for large files. Please be patient.</li>\n            <li><strong>Results:</strong> Will be available for download once processing is complete.</li>\n          </ul>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nconst StatCard = ({ title, value }) => (\n  <div style={{\n    padding: '1rem',\n    backgroundColor: '#f9fafb',\n    borderRadius: '4px',\n    textAlign: 'center'\n  }}>\n    <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937' }}>\n      {value}\n    </div>\n    <div style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.25rem' }}>\n      {title}\n    </div>\n  </div>\n);\n\n// Helper functions for file processing\nasync function readCSVFile(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const text = e.target.result;\n        const lines = text.split('\\n').filter(line => line.trim());\n        const headers = lines[0].split(',').map(h => h.trim().replace(/\"/g, ''));\n        \n        const data = lines.slice(1).map(line => {\n          const values = line.split(',').map(v => v.trim().replace(/\"/g, ''));\n          const row = {};\n          headers.forEach((header, i) => {\n            row[header] = values[i] || '';\n          });\n          return row;\n        });\n        \n        resolve({ headers, data });\n      } catch (err) {\n        reject(new Error(`Failed to parse CSV: ${err.message}`));\n      }\n    };\n    reader.onerror = () => reject(new Error('Failed to read file'));\n    reader.readAsText(file);\n  });\n}\n\nasync function runFIFOCalculation(salesData, lotsData, clientId) {\n  // Simulate FIFO processing\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const processedSkus = [...new Set(salesData.data.map(row => row.SKU))].length;\n      const totalUnits = salesData.data.reduce((sum, row) => {\n        const units = parseFloat(row['Units Moved'] || row['Quantity'] || 0);\n        return sum + (isNaN(units) ? 0 : units);\n      }, 0);\n      \n      // Simulate COGS calculation (in production this would call the actual FIFO engine)\n      const avgCost = 10.50; // Placeholder\n      const totalCogs = totalUnits * avgCost;\n      \n      const result = {\n        processed_skus: processedSkus,\n        total_units: totalUnits,\n        total_cogs: totalCogs,\n        success_rate: 100,\n        timestamp: new Date().toISOString(),\n        client_id: clientId,\n        files: {\n          sales: salesData.data.length,\n          lots: lotsData?.data?.length || 0\n        }\n      };\n      \n      resolve(result);\n    }, 2000); // 2 second processing simulation\n  });\n}\n\nfunction saveResultsForClient(clientId, result) {\n  // Save to localStorage for demo (in production this would save to database)\n  const key = `results_${clientId}`;\n  const existingResults = JSON.parse(localStorage.getItem(key) || '[]');\n  existingResults.push(result);\n  localStorage.setItem(key, JSON.stringify(existingResults));\n}\n\nfunction updateRecentFiles(clientId, salesFile, lotsFile) {\n  const files = [];\n  \n  if (salesFile) {\n    files.push({\n      name: salesFile.name,\n      type: 'Sales Data',\n      uploaded: new Date().toLocaleDateString(),\n      status: 'completed'\n    });\n  }\n  \n  if (lotsFile) {\n    files.push({\n      name: lotsFile.name,\n      type: 'Purchase Lots',\n      uploaded: new Date().toLocaleDateString(),\n      status: 'completed'\n    });\n  }\n  \n  const key = `files_${clientId}`;\n  const existingFiles = JSON.parse(localStorage.getItem(key) || '[]');\n  existingFiles.push(...files);\n  localStorage.setItem(key, JSON.stringify(existingFiles));\n}\n\nexport default UploadPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}