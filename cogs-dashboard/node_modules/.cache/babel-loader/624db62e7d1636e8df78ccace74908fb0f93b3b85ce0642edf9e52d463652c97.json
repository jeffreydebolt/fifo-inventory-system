{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const ClientContext=/*#__PURE__*/createContext({});export const useClient=()=>{const context=useContext(ClientContext);if(!context){throw new Error('useClient must be used within ClientProvider');}return context;};export const ClientProvider=_ref=>{let{children}=_ref;const[client,setClient]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{// Check for existing session\nconst storedClient=localStorage.getItem('fifo_client');if(storedClient){try{const clientData=JSON.parse(storedClient);setClient(clientData);}catch(e){localStorage.removeItem('fifo_client');}}setLoading(false);},[]);const login=async(clientId,password)=>{// Demo: Simple credential check (for beta deployment)\nconst demoClients={'acme_corp':{password:'test123',company_name:'Acme Corp',email:'test1@acme.com'},'beta_industries':{password:'test456',company_name:'Beta Industries',email:'test2@beta.com'},'1001':{password:'client1001',company_name:'FirstLot Client 1001',email:'client1001@firstlot.co'}};const clientData=demoClients[clientId];if(clientData&&password===clientData.password){const loginData={client_id:clientId,company_name:clientData.company_name,email:clientData.email};setClient(loginData);localStorage.setItem('fifo_client',JSON.stringify(loginData));return{success:true};}return{success:false,error:'Invalid credentials'};};const logout=()=>{setClient(null);localStorage.removeItem('fifo_client');};const value={client,login,logout,loading,isAuthenticated:!!client};return/*#__PURE__*/_jsx(ClientContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","ClientContext","useClient","context","Error","ClientProvider","_ref","children","client","setClient","loading","setLoading","storedClient","localStorage","getItem","clientData","JSON","parse","e","removeItem","login","clientId","password","demoClients","company_name","email","loginData","client_id","setItem","stringify","success","error","logout","value","isAuthenticated","Provider"],"sources":["/Users/jeffreydebolt/Documents/fifo/cogs-dashboard/src/contexts/ClientContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst ClientContext = createContext({});\n\nexport const useClient = () => {\n  const context = useContext(ClientContext);\n  if (!context) {\n    throw new Error('useClient must be used within ClientProvider');\n  }\n  return context;\n};\n\nexport const ClientProvider = ({ children }) => {\n  const [client, setClient] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Check for existing session\n    const storedClient = localStorage.getItem('fifo_client');\n    if (storedClient) {\n      try {\n        const clientData = JSON.parse(storedClient);\n        setClient(clientData);\n      } catch (e) {\n        localStorage.removeItem('fifo_client');\n      }\n    }\n    setLoading(false);\n  }, []);\n\n  const login = async (clientId, password) => {\n    // Demo: Simple credential check (for beta deployment)\n    const demoClients = {\n      'acme_corp': { password: 'test123', company_name: 'Acme Corp', email: 'test1@acme.com' },\n      'beta_industries': { password: 'test456', company_name: 'Beta Industries', email: 'test2@beta.com' },\n      '1001': { password: 'client1001', company_name: 'FirstLot Client 1001', email: 'client1001@firstlot.co' }\n    };\n    \n    const clientData = demoClients[clientId];\n    \n    if (clientData && password === clientData.password) {\n      const loginData = {\n        client_id: clientId,\n        company_name: clientData.company_name,\n        email: clientData.email\n      };\n      setClient(loginData);\n      localStorage.setItem('fifo_client', JSON.stringify(loginData));\n      return { success: true };\n    }\n    \n    return { success: false, error: 'Invalid credentials' };\n  };\n\n  const logout = () => {\n    setClient(null);\n    localStorage.removeItem('fifo_client');\n  };\n\n  const value = {\n    client,\n    login,\n    logout,\n    loading,\n    isAuthenticated: !!client\n  };\n\n  return (\n    <ClientContext.Provider value={value}>\n      {children}\n    </ClientContext.Provider>\n  );\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}