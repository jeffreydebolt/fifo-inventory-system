{"ast":null,"code":"var _jsxFileName = \"/Users/jeffreydebolt/Documents/fifo/cogs-dashboard/src/pages/UploadPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useClient } from '../contexts/ClientContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadPage = () => {\n  _s();\n  var _result$total_cogs, _result$success_rate;\n  const {\n    client\n  } = useClient();\n  const [salesFile, setSalesFile] = useState(null);\n  const [lotsFile, setLotsFile] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState('');\n  const handleFileChange = (type, event) => {\n    const file = event.target.files[0];\n    if (type === 'sales') {\n      setSalesFile(file);\n    } else if (type === 'lots') {\n      setLotsFile(file);\n    }\n    setError('');\n    setResult(null);\n  };\n  const processFiles = async () => {\n    if (!salesFile) {\n      setError('Please select a sales file');\n      return;\n    }\n    setProcessing(true);\n    setError('');\n    setResult(null);\n    try {\n      // Read and process the files\n      const salesData = await readCSVFile(salesFile);\n      const lotsData = lotsFile ? await readCSVFile(lotsFile) : null;\n\n      // Process with FIFO calculator\n      const fifoResult = await runFIFOCalculation(salesData, lotsData, client.client_id);\n\n      // Save results for this client\n      saveResultsForClient(client.client_id, fifoResult);\n\n      // Update recent files\n      updateRecentFiles(client.client_id, salesFile, lotsFile);\n      setResult(fifoResult);\n    } catch (err) {\n      setError(`Processing failed: ${err.message}`);\n    } finally {\n      setProcessing(false);\n    }\n  };\n  const downloadTemplate = type => {\n    const templates = {\n      sales: `SKU,Units Moved,Month\nABC123,100,January 2025\nDEF456,50,January 2025\nGHI789,75,February 2025`,\n      lots: `PO_Number,SKU,Received_Date,Original_Unit_Qty,Unit_Price,Actual_Freight_Cost_Per_Unit\nPO001,ABC123,2025-01-01,500,10.50,1.25\nPO002,DEF456,2025-01-15,300,8.75,0.95\nPO003,GHI789,2025-02-01,200,12.00,1.50`\n    };\n    const content = templates[type];\n    const blob = new Blob([content], {\n      type: 'text/csv'\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${type}_template.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '100vh',\n      backgroundColor: '#f3f4f6'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: {\n        backgroundColor: 'white',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        padding: '1rem 2rem'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          style: {\n            color: '#1f2937',\n            margin: 0\n          },\n          children: \"Upload Files\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#6b7280'\n            },\n            children: client.company_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.href = '/dashboard',\n            style: {\n              backgroundColor: '#6b7280',\n              color: 'white',\n              padding: '0.5rem 1rem',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            },\n            children: \"\\u2190 Back to Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      style: {\n        padding: '2rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          padding: '2rem',\n          borderRadius: '8px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          marginBottom: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            color: '#1f2937',\n            marginBottom: '1.5rem'\n          },\n          children: \"Upload Your Files\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '1.5rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '0.5rem',\n              color: '#374151',\n              fontWeight: '500'\n            },\n            children: \"Sales Data (Required) *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '1rem',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".csv,.xlsx\",\n              onChange: e => handleFileChange('sales', e),\n              style: {\n                padding: '0.5rem',\n                border: '1px solid #d1d5db',\n                borderRadius: '4px',\n                flex: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => downloadTemplate('sales'),\n              style: {\n                backgroundColor: '#6b7280',\n                color: 'white',\n                padding: '0.5rem 1rem',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                whiteSpace: 'nowrap'\n              },\n              children: \"Download Template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), salesFile && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#10b981',\n              fontSize: '0.875rem',\n              marginTop: '0.5rem'\n            },\n            children: [\"\\u2713 \", salesFile.name, \" selected\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '2rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '0.5rem',\n              color: '#374151',\n              fontWeight: '500'\n            },\n            children: \"Purchase Lots (Optional - will use database if not provided)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '1rem',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \".csv,.xlsx\",\n              onChange: e => handleFileChange('lots', e),\n              style: {\n                padding: '0.5rem',\n                border: '1px solid #d1d5db',\n                borderRadius: '4px',\n                flex: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => downloadTemplate('lots'),\n              style: {\n                backgroundColor: '#6b7280',\n                color: 'white',\n                padding: '0.5rem 1rem',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                whiteSpace: 'nowrap'\n              },\n              children: \"Download Template\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), lotsFile && /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#10b981',\n              fontSize: '0.875rem',\n              marginTop: '0.5rem'\n            },\n            children: [\"\\u2713 \", lotsFile.name, \" selected\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: processFiles,\n          disabled: !salesFile || processing,\n          style: {\n            backgroundColor: !salesFile || processing ? '#9ca3af' : '#3b82f6',\n            color: 'white',\n            padding: '0.75rem 2rem',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: !salesFile || processing ? 'not-allowed' : 'pointer',\n            fontSize: '1rem',\n            fontWeight: '500'\n          },\n          children: processing ? 'Processing...' : 'Process FIFO COGS'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: '#fef2f2',\n          border: '1px solid #fca5a5',\n          color: '#dc2626',\n          padding: '1rem',\n          borderRadius: '8px',\n          marginBottom: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 0.5rem 0'\n          },\n          children: \"Error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: 0\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          padding: '2rem',\n          borderRadius: '8px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            color: '#1f2937',\n            marginBottom: '1.5rem'\n          },\n          children: \"\\u2705 Processing Complete!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n            gap: '1rem',\n            marginBottom: '2rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(StatCard, {\n            title: \"SKUs Processed\",\n            value: result.processed_skus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n            title: \"Total COGS\",\n            value: `$${((_result$total_cogs = result.total_cogs) === null || _result$total_cogs === void 0 ? void 0 : _result$total_cogs.toFixed(2)) || '0.00'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StatCard, {\n            title: \"Success Rate\",\n            value: `${((_result$success_rate = result.success_rate) === null || _result$success_rate === void 0 ? void 0 : _result$success_rate.toFixed(1)) || '0'}%`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            backgroundColor: '#f9fafb',\n            padding: '1rem',\n            borderRadius: '4px',\n            marginBottom: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              color: '#374151'\n            },\n            children: \"Your COGS calculation has been completed and saved. You can now download the results from the Download page.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.href = '/download',\n          style: {\n            backgroundColor: '#10b981',\n            color: 'white',\n            padding: '0.75rem 1.5rem',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer',\n            fontSize: '1rem'\n          },\n          children: \"Go to Download Page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: 'white',\n          padding: '2rem',\n          borderRadius: '8px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          marginTop: '2rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            color: '#1f2937',\n            marginBottom: '1rem'\n          },\n          children: \"Instructions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            color: '#6b7280',\n            lineHeight: 1.6\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Sales Data:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 17\n            }, this), \" Required. Must include SKU, Units Moved, and Month columns.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Purchase Lots:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this), \" Optional. If not provided, we'll use your existing inventory from the database.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"File Formats:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this), \" CSV or Excel files (.csv, .xlsx) are supported.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Processing:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this), \" May take a few moments for large files. Please be patient.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Results:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), \" Will be available for download once processing is complete.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n};\n_s(UploadPage, \"G6Ad0kuYxp2JJPtZAzpMlVcVNzc=\", false, function () {\n  return [useClient];\n});\n_c = UploadPage;\nconst StatCard = ({\n  title,\n  value\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    padding: '1rem',\n    backgroundColor: '#f9fafb',\n    borderRadius: '4px',\n    textAlign: 'center'\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontSize: '1.5rem',\n      fontWeight: 'bold',\n      color: '#1f2937'\n    },\n    children: value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 328,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      fontSize: '0.875rem',\n      color: '#6b7280',\n      marginTop: '0.25rem'\n    },\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 331,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 322,\n  columnNumber: 3\n}, this);\n\n// Helper functions for file processing\n_c2 = StatCard;\nasync function readCSVFile(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = e => {\n      try {\n        const text = e.target.result;\n        const lines = text.split('\\n').filter(line => line.trim());\n        const headers = lines[0].split(',').map(h => h.trim().replace(/\"/g, ''));\n        const data = lines.slice(1).map(line => {\n          const values = line.split(',').map(v => v.trim().replace(/\"/g, ''));\n          const row = {};\n          headers.forEach((header, i) => {\n            row[header] = values[i] || '';\n          });\n          return row;\n        });\n        resolve({\n          headers,\n          data\n        });\n      } catch (err) {\n        reject(new Error(`Failed to parse CSV: ${err.message}`));\n      }\n    };\n    reader.onerror = () => reject(new Error('Failed to read file'));\n    reader.readAsText(file);\n  });\n}\nasync function runFIFOCalculation(salesData, lotsData, clientId) {\n  // Simulate FIFO processing\n  return new Promise(resolve => {\n    setTimeout(() => {\n      var _lotsData$data;\n      const processedSkus = [...new Set(salesData.data.map(row => row.SKU))].length;\n      const totalUnits = salesData.data.reduce((sum, row) => {\n        const units = parseFloat(row['Units Moved'] || row['Quantity'] || 0);\n        return sum + (isNaN(units) ? 0 : units);\n      }, 0);\n\n      // Simulate COGS calculation (in production this would call the actual FIFO engine)\n      const avgCost = 10.50; // Placeholder\n      const totalCogs = totalUnits * avgCost;\n      const result = {\n        processed_skus: processedSkus,\n        total_units: totalUnits,\n        total_cogs: totalCogs,\n        success_rate: 100,\n        timestamp: new Date().toISOString(),\n        client_id: clientId,\n        files: {\n          sales: salesData.data.length,\n          lots: (lotsData === null || lotsData === void 0 ? void 0 : (_lotsData$data = lotsData.data) === null || _lotsData$data === void 0 ? void 0 : _lotsData$data.length) || 0\n        }\n      };\n      resolve(result);\n    }, 2000); // 2 second processing simulation\n  });\n}\nfunction saveResultsForClient(clientId, result) {\n  // Save to localStorage for demo (in production this would save to database)\n  const key = `results_${clientId}`;\n  const existingResults = JSON.parse(localStorage.getItem(key) || '[]');\n  existingResults.push(result);\n  localStorage.setItem(key, JSON.stringify(existingResults));\n}\nfunction updateRecentFiles(clientId, salesFile, lotsFile) {\n  const files = [];\n  if (salesFile) {\n    files.push({\n      name: salesFile.name,\n      type: 'Sales Data',\n      uploaded: new Date().toLocaleDateString(),\n      status: 'completed'\n    });\n  }\n  if (lotsFile) {\n    files.push({\n      name: lotsFile.name,\n      type: 'Purchase Lots',\n      uploaded: new Date().toLocaleDateString(),\n      status: 'completed'\n    });\n  }\n  const key = `files_${clientId}`;\n  const existingFiles = JSON.parse(localStorage.getItem(key) || '[]');\n  existingFiles.push(...files);\n  localStorage.setItem(key, JSON.stringify(existingFiles));\n}\nexport default UploadPage;\nvar _c, _c2;\n$RefreshReg$(_c, \"UploadPage\");\n$RefreshReg$(_c2, \"StatCard\");","map":{"version":3,"names":["React","useState","useClient","jsxDEV","_jsxDEV","UploadPage","_s","_result$total_cogs","_result$success_rate","client","salesFile","setSalesFile","lotsFile","setLotsFile","processing","setProcessing","result","setResult","error","setError","handleFileChange","type","event","file","target","files","processFiles","salesData","readCSVFile","lotsData","fifoResult","runFIFOCalculation","client_id","saveResultsForClient","updateRecentFiles","err","message","downloadTemplate","templates","sales","lots","content","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","style","minHeight","backgroundColor","children","boxShadow","padding","display","justifyContent","alignItems","color","margin","fileName","_jsxFileName","lineNumber","columnNumber","gap","company_name","onClick","window","location","border","borderRadius","cursor","marginBottom","fontWeight","accept","onChange","e","flex","whiteSpace","fontSize","marginTop","name","disabled","gridTemplateColumns","StatCard","title","value","processed_skus","total_cogs","toFixed","success_rate","lineHeight","_c","textAlign","_c2","Promise","resolve","reject","reader","FileReader","onload","text","lines","split","filter","line","trim","headers","map","h","replace","data","slice","values","v","row","forEach","header","i","Error","onerror","readAsText","clientId","setTimeout","_lotsData$data","processedSkus","Set","SKU","length","totalUnits","reduce","sum","units","parseFloat","isNaN","avgCost","totalCogs","total_units","timestamp","Date","toISOString","key","existingResults","JSON","parse","localStorage","getItem","push","setItem","stringify","uploaded","toLocaleDateString","status","existingFiles","$RefreshReg$"],"sources":["/Users/jeffreydebolt/Documents/fifo/cogs-dashboard/src/pages/UploadPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useClient } from '../contexts/ClientContext';\n\nconst UploadPage = () => {\n  const { client } = useClient();\n  const [salesFile, setSalesFile] = useState(null);\n  const [lotsFile, setLotsFile] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState('');\n\n  const handleFileChange = (type, event) => {\n    const file = event.target.files[0];\n    if (type === 'sales') {\n      setSalesFile(file);\n    } else if (type === 'lots') {\n      setLotsFile(file);\n    }\n    setError('');\n    setResult(null);\n  };\n\n  const processFiles = async () => {\n    if (!salesFile) {\n      setError('Please select a sales file');\n      return;\n    }\n\n    setProcessing(true);\n    setError('');\n    setResult(null);\n\n    try {\n      // Read and process the files\n      const salesData = await readCSVFile(salesFile);\n      const lotsData = lotsFile ? await readCSVFile(lotsFile) : null;\n\n      // Process with FIFO calculator\n      const fifoResult = await runFIFOCalculation(salesData, lotsData, client.client_id);\n      \n      // Save results for this client\n      saveResultsForClient(client.client_id, fifoResult);\n      \n      // Update recent files\n      updateRecentFiles(client.client_id, salesFile, lotsFile);\n\n      setResult(fifoResult);\n\n    } catch (err) {\n      setError(`Processing failed: ${err.message}`);\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const downloadTemplate = (type) => {\n    const templates = {\n      sales: `SKU,Units Moved,Month\nABC123,100,January 2025\nDEF456,50,January 2025\nGHI789,75,February 2025`,\n      lots: `PO_Number,SKU,Received_Date,Original_Unit_Qty,Unit_Price,Actual_Freight_Cost_Per_Unit\nPO001,ABC123,2025-01-01,500,10.50,1.25\nPO002,DEF456,2025-01-15,300,8.75,0.95\nPO003,GHI789,2025-02-01,200,12.00,1.50`\n    };\n\n    const content = templates[type];\n    const blob = new Blob([content], { type: 'text/csv' });\n    const url = URL.createObjectURL(blob);\n    \n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${type}_template.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div style={{ minHeight: '100vh', backgroundColor: '#f3f4f6' }}>\n      {/* Header */}\n      <header style={{\n        backgroundColor: 'white',\n        boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n        padding: '1rem 2rem'\n      }}>\n        <div style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        }}>\n          <h1 style={{ color: '#1f2937', margin: 0 }}>Upload Files</h1>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>\n            <span style={{ color: '#6b7280' }}>\n              {client.company_name}\n            </span>\n            <button\n              onClick={() => window.location.href = '/dashboard'}\n              style={{\n                backgroundColor: '#6b7280',\n                color: 'white',\n                padding: '0.5rem 1rem',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer'\n              }}\n            >\n              ← Back to Dashboard\n            </button>\n          </div>\n        </div>\n      </header>\n\n      <main style={{ padding: '2rem' }}>\n        {/* File Upload Section */}\n        <div style={{\n          backgroundColor: 'white',\n          padding: '2rem',\n          borderRadius: '8px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          marginBottom: '2rem'\n        }}>\n          <h2 style={{ color: '#1f2937', marginBottom: '1.5rem' }}>Upload Your Files</h2>\n          \n          {/* Sales File */}\n          <div style={{ marginBottom: '1.5rem' }}>\n            <label style={{\n              display: 'block',\n              marginBottom: '0.5rem',\n              color: '#374151',\n              fontWeight: '500'\n            }}>\n              Sales Data (Required) *\n            </label>\n            <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n              <input\n                type=\"file\"\n                accept=\".csv,.xlsx\"\n                onChange={(e) => handleFileChange('sales', e)}\n                style={{\n                  padding: '0.5rem',\n                  border: '1px solid #d1d5db',\n                  borderRadius: '4px',\n                  flex: 1\n                }}\n              />\n              <button\n                onClick={() => downloadTemplate('sales')}\n                style={{\n                  backgroundColor: '#6b7280',\n                  color: 'white',\n                  padding: '0.5rem 1rem',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  whiteSpace: 'nowrap'\n                }}\n              >\n                Download Template\n              </button>\n            </div>\n            {salesFile && (\n              <p style={{ color: '#10b981', fontSize: '0.875rem', marginTop: '0.5rem' }}>\n                ✓ {salesFile.name} selected\n              </p>\n            )}\n          </div>\n\n          {/* Lots File */}\n          <div style={{ marginBottom: '2rem' }}>\n            <label style={{\n              display: 'block',\n              marginBottom: '0.5rem',\n              color: '#374151',\n              fontWeight: '500'\n            }}>\n              Purchase Lots (Optional - will use database if not provided)\n            </label>\n            <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>\n              <input\n                type=\"file\"\n                accept=\".csv,.xlsx\"\n                onChange={(e) => handleFileChange('lots', e)}\n                style={{\n                  padding: '0.5rem',\n                  border: '1px solid #d1d5db',\n                  borderRadius: '4px',\n                  flex: 1\n                }}\n              />\n              <button\n                onClick={() => downloadTemplate('lots')}\n                style={{\n                  backgroundColor: '#6b7280',\n                  color: 'white',\n                  padding: '0.5rem 1rem',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  whiteSpace: 'nowrap'\n                }}\n              >\n                Download Template\n              </button>\n            </div>\n            {lotsFile && (\n              <p style={{ color: '#10b981', fontSize: '0.875rem', marginTop: '0.5rem' }}>\n                ✓ {lotsFile.name} selected\n              </p>\n            )}\n          </div>\n\n          {/* Process Button */}\n          <button\n            onClick={processFiles}\n            disabled={!salesFile || processing}\n            style={{\n              backgroundColor: (!salesFile || processing) ? '#9ca3af' : '#3b82f6',\n              color: 'white',\n              padding: '0.75rem 2rem',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: (!salesFile || processing) ? 'not-allowed' : 'pointer',\n              fontSize: '1rem',\n              fontWeight: '500'\n            }}\n          >\n            {processing ? 'Processing...' : 'Process FIFO COGS'}\n          </button>\n        </div>\n\n        {/* Error Display */}\n        {error && (\n          <div style={{\n            backgroundColor: '#fef2f2',\n            border: '1px solid #fca5a5',\n            color: '#dc2626',\n            padding: '1rem',\n            borderRadius: '8px',\n            marginBottom: '2rem'\n          }}>\n            <h3 style={{ margin: '0 0 0.5rem 0' }}>Error</h3>\n            <p style={{ margin: 0 }}>{error}</p>\n          </div>\n        )}\n\n        {/* Results Display */}\n        {result && (\n          <div style={{\n            backgroundColor: 'white',\n            padding: '2rem',\n            borderRadius: '8px',\n            boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)'\n          }}>\n            <h2 style={{ color: '#1f2937', marginBottom: '1.5rem' }}>✅ Processing Complete!</h2>\n            \n            <div style={{ \n              display: 'grid', \n              gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', \n              gap: '1rem',\n              marginBottom: '2rem'\n            }}>\n              <StatCard title=\"SKUs Processed\" value={result.processed_skus} />\n              <StatCard title=\"Total COGS\" value={`$${result.total_cogs?.toFixed(2) || '0.00'}`} />\n              <StatCard title=\"Success Rate\" value={`${result.success_rate?.toFixed(1) || '0'}%`} />\n            </div>\n\n            <div style={{\n              backgroundColor: '#f9fafb',\n              padding: '1rem',\n              borderRadius: '4px',\n              marginBottom: '1rem'\n            }}>\n              <p style={{ margin: 0, color: '#374151' }}>\n                Your COGS calculation has been completed and saved. \n                You can now download the results from the Download page.\n              </p>\n            </div>\n\n            <button\n              onClick={() => window.location.href = '/download'}\n              style={{\n                backgroundColor: '#10b981',\n                color: 'white',\n                padding: '0.75rem 1.5rem',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                fontSize: '1rem'\n              }}\n            >\n              Go to Download Page\n            </button>\n          </div>\n        )}\n\n        {/* Instructions */}\n        <div style={{\n          backgroundColor: 'white',\n          padding: '2rem',\n          borderRadius: '8px',\n          boxShadow: '0 1px 3px rgba(0, 0, 0, 0.1)',\n          marginTop: '2rem'\n        }}>\n          <h3 style={{ color: '#1f2937', marginBottom: '1rem' }}>Instructions</h3>\n          <ul style={{ color: '#6b7280', lineHeight: 1.6 }}>\n            <li><strong>Sales Data:</strong> Required. Must include SKU, Units Moved, and Month columns.</li>\n            <li><strong>Purchase Lots:</strong> Optional. If not provided, we'll use your existing inventory from the database.</li>\n            <li><strong>File Formats:</strong> CSV or Excel files (.csv, .xlsx) are supported.</li>\n            <li><strong>Processing:</strong> May take a few moments for large files. Please be patient.</li>\n            <li><strong>Results:</strong> Will be available for download once processing is complete.</li>\n          </ul>\n        </div>\n      </main>\n    </div>\n  );\n};\n\nconst StatCard = ({ title, value }) => (\n  <div style={{\n    padding: '1rem',\n    backgroundColor: '#f9fafb',\n    borderRadius: '4px',\n    textAlign: 'center'\n  }}>\n    <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#1f2937' }}>\n      {value}\n    </div>\n    <div style={{ fontSize: '0.875rem', color: '#6b7280', marginTop: '0.25rem' }}>\n      {title}\n    </div>\n  </div>\n);\n\n// Helper functions for file processing\nasync function readCSVFile(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const text = e.target.result;\n        const lines = text.split('\\n').filter(line => line.trim());\n        const headers = lines[0].split(',').map(h => h.trim().replace(/\"/g, ''));\n        \n        const data = lines.slice(1).map(line => {\n          const values = line.split(',').map(v => v.trim().replace(/\"/g, ''));\n          const row = {};\n          headers.forEach((header, i) => {\n            row[header] = values[i] || '';\n          });\n          return row;\n        });\n        \n        resolve({ headers, data });\n      } catch (err) {\n        reject(new Error(`Failed to parse CSV: ${err.message}`));\n      }\n    };\n    reader.onerror = () => reject(new Error('Failed to read file'));\n    reader.readAsText(file);\n  });\n}\n\nasync function runFIFOCalculation(salesData, lotsData, clientId) {\n  // Simulate FIFO processing\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const processedSkus = [...new Set(salesData.data.map(row => row.SKU))].length;\n      const totalUnits = salesData.data.reduce((sum, row) => {\n        const units = parseFloat(row['Units Moved'] || row['Quantity'] || 0);\n        return sum + (isNaN(units) ? 0 : units);\n      }, 0);\n      \n      // Simulate COGS calculation (in production this would call the actual FIFO engine)\n      const avgCost = 10.50; // Placeholder\n      const totalCogs = totalUnits * avgCost;\n      \n      const result = {\n        processed_skus: processedSkus,\n        total_units: totalUnits,\n        total_cogs: totalCogs,\n        success_rate: 100,\n        timestamp: new Date().toISOString(),\n        client_id: clientId,\n        files: {\n          sales: salesData.data.length,\n          lots: lotsData?.data?.length || 0\n        }\n      };\n      \n      resolve(result);\n    }, 2000); // 2 second processing simulation\n  });\n}\n\nfunction saveResultsForClient(clientId, result) {\n  // Save to localStorage for demo (in production this would save to database)\n  const key = `results_${clientId}`;\n  const existingResults = JSON.parse(localStorage.getItem(key) || '[]');\n  existingResults.push(result);\n  localStorage.setItem(key, JSON.stringify(existingResults));\n}\n\nfunction updateRecentFiles(clientId, salesFile, lotsFile) {\n  const files = [];\n  \n  if (salesFile) {\n    files.push({\n      name: salesFile.name,\n      type: 'Sales Data',\n      uploaded: new Date().toLocaleDateString(),\n      status: 'completed'\n    });\n  }\n  \n  if (lotsFile) {\n    files.push({\n      name: lotsFile.name,\n      type: 'Purchase Lots',\n      uploaded: new Date().toLocaleDateString(),\n      status: 'completed'\n    });\n  }\n  \n  const key = `files_${clientId}`;\n  const existingFiles = JSON.parse(localStorage.getItem(key) || '[]');\n  existingFiles.push(...files);\n  localStorage.setItem(key, JSON.stringify(existingFiles));\n}\n\nexport default UploadPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}